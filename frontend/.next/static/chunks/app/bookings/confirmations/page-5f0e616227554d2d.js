(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{19:(e,a,t)=>{Promise.resolve().then(t.bind(t,5191))},5191:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var s=t(5155),l=t(71),n=t(6046),i=t(2115),c=t(6197);let r=()=>{var e,a;let[t,r]=(0,i.useState)(null),[o,d]=(0,i.useState)(null),x=(0,n.useSearchParams)().get("bookingId");if((0,i.useEffect)(()=>{x&&d(x)},[x]),(0,i.useEffect)(()=>{o&&(async()=>{try{let e=await c.S.get("/bookings/".concat(o));r(e.data)}catch(e){console.error("Error fetching booking details:",e)}})()},[o]),!t)return(0,s.jsx)("div",{children:"Loading..."});let h=async()=>{let{name:e,email:a,phoneNumber:s,numberOfTravellers:n,specialRequests:i,price:c,packageDetails:r}=t,o=await l.PDFDocument.create(),d=o.addPage([600,800]),x=await o.embedFont("Helvetica");d.drawText("Booking Confirmation",{x:50,y:750,font:x,size:18}),d.drawText("Name: ".concat(e),{x:50,y:730,font:x,size:12}),d.drawText("Email: ".concat(a),{x:50,y:710,font:x,size:12}),d.drawText("Phone: ".concat(s),{x:50,y:690,font:x,size:12}),d.drawText("Number of Travellers: ".concat(n),{x:50,y:670,font:x,size:12}),d.drawText("Special Requests: ".concat(i),{x:50,y:650,font:x,size:12}),d.drawText("Package: ".concat(r.title),{x:50,y:630,font:x,size:12}),d.drawText("Package Description: ".concat(r.description),{x:50,y:610,font:x,size:12}),d.drawText("Price: Rs".concat(c),{x:50,y:590,font:x,size:12});let h=new Blob([await o.save()],{type:"application/pdf"}),u=URL.createObjectURL(h),p=document.createElement("a");p.href=u,p.download="booking-confirmation.pdf",p.click()};return(0,s.jsx)("div",{className:"w-full flex items-center justify-center min-h-screen text-center",children:(0,s.jsx)("div",{className:"artboard phone-5",children:(0,s.jsx)("div",{className:"card bg-base-100 w-96 shadow-lg",children:(0,s.jsxs)("div",{className:"card-body text-start",children:[(0,s.jsx)("h1",{className:"card-titles text-2xl",children:(0,s.jsx)("b",{children:"Booking Confirmation"})}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:"Name:"})," ",null==t?void 0:t.name]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:"Email:"})," ",null==t?void 0:t.email]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:"Phone Number:"})," ",null==t?void 0:t.phoneNumber]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:"No. of Travellers:"})," ",null==t?void 0:t.numberOfTravellers]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:"Special Requests:"})," ",null==t?void 0:t.specialRequests]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:"Package Title:"})," ",null==t?void 0:null===(e=t.packageDetails)||void 0===e?void 0:e.title]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:"Package Description:"})," ",null==t?void 0:null===(a=t.packageDetails)||void 0===a?void 0:a.description]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:"Price:"})," ",null==t?void 0:t.price]}),(0,s.jsx)("div",{className:"card-actions mt-5",children:(0,s.jsx)("button",{onClick:h,className:"btn btn-xl shadow-xl border-base-100",children:"Download PDF"})})]})})})})}},6197:(e,a,t)=>{"use strict";t.d(a,{S:()=>n});var s=t(2651),l=t(2818);let n=s.A.create({baseURL:"development"===l.env.MODE?"http://localhost:5003":"/",headers:{"Content-Type":"application/json"},withCredentials:!0});n.interceptors.request.use(e=>{let a=localStorage.getItem("authHeader");return a&&e.url&&e.url.startsWith("/admin")&&(e.headers.Authorization=a),e})}},e=>{var a=a=>e(e.s=a);e.O(0,[651,370,441,517,358],()=>a(19)),_N_E=e.O()}]);